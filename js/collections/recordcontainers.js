// Generated by CoffeeScript 1.6.3
define(['jquery', 'underscore', 'backbone', 'models/recordcontainer', 'common', 'moment', 'backbone.indexedDB'], function($, _, Backbone, RecordContainer, Common, moment) {
  'use strict';
  return Backbone.Collection.extend({
    model: RecordContainer,
    store: new Backbone.IndexedDB.Store('recordContainers'),
    initialize: function() {
      return this;
    },
    getContainer: function() {
      var container;
      container = this.find(function(container) {
        return moment(container.getTime('contentTime')).isSame(Common.targetDate.date);
      });
      if (container) {
        return container;
      }
      container = new RecordContainer;
      container.set('contentTime', Common.targetDate.date.toString());
      this.add(container);
      container.save();
      return container;
    }
  });
});
